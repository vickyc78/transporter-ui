<div class="container-fluid" ng-app="myApp" ng-controller="dashboardCtrl">
  <!-- Top Bar Chart -->
  <div class="panel-content">
    <div class="card">
      <div class="row">
        <div class="col-md-12">
          <div class="widget">
            <div class="table-area">
              <div class="card-header">
                <h3 class="card-title">Dispatch Dashboard</h3>
                <div class="row mt5">
                  <div class="col-md-4 col-sm-12 xs-flex-center">
                    <div class="white">Search Dispatch :</div>

                    <form novalidate name="frm1" autocomplete="off">
                      <div class="input-group mb-3">
                        <input
                          type="text"
                          class="form-control"
                          ng-model="formData.keyword"
                          ng-change="getAllDispatch(formData)"
                        />
                      </div>
                    </form>
                  </div>
                  <div class="col-md-4 col-sm-12 xs-flex-center m-auto">
                    <div class="pull-right">
                      <button
                        class="btn btn-default rounded btn-success"
                        ng-click="generateExcel(formData)"
                      >
                        Generate Excel
                      </button>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card-header">
                <div class="row">
                  <div class="col-md-12">
                    <div class="pull-right">
                      <button
                        class="btn btn-default rounded btn-success"
                        ng-click="createDispatch()"
                      >
                        Create Dispatch
                      </button>
                    </div>
                  </div>
                </div>
              </div>

              <div class="card-body">
                <div class="table-responsive">
                  <table class="table table-striped table-hover">
                    <thead>
                      <tr>
                        <th>#</th>
                        <th>deliveryNumber</th>
                        <th>sourceCode</th>
                        <th>destinationCode</th>
                        <th>vehicleNumber</th>
                        <th>transporterCode</th>
                        <th>driverName</th>
                        <th>isDelete</th>
                        <th></th>
                        <th></th>
                      </tr>
                    </thead>
                    <tbody
                      style=" height: 400px;
                     overflow: auto;"
                      directive-when-scrolled="getAllDispatch()"
                    >
                      <tr ng-repeat="dispatch in dispatches track by $index">
                        <th>{{ $index + 1 }}</th>
                        <th
                          title="{{ dispatch.deliveryNumber }}"
                          class="text-capitalize"
                        >
                          {{ dispatch.deliveryNumber }}
                        </th>
                        <th class="text-capitalize">
                          {{ dispatch.sourceData.code }}
                        </th>
                        <th>{{dispatch.destinationData.code}}</th>
                        <th class="">{{dispatch.vehicleNumber}}</th>
                        <th class="text-capitalize">
                          {{dispatch.transporterData.code}}
                        </th>
                        <th class="text-capitalize">{{dispatch.driverName}}</th>
                        <th class="text-capitalize">{{dispatch.isDeleted}}</th>
                        <th>
                          <!-- ui-sref="createDispatch({id:item._id})" -->
                          <button
                            class="btn btn-primary btn-sm rounded"
                            ng-click="editDispatch(dispatch._id)"
                          >
                            Edit
                          </button>
                        </th>
                        <th>
                          <!-- ng-click="deleteBonusList(item._id)" -->
                          <button
                            class="btn btn-danger btn-sm rounded"
                            ng-click="deleteBonusList(dispatch._id)"
                          >
                            Delete
                          </button>
                        </th>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <!-- <div
                  class="tableData text-center page-title"
                  ng-show="totalCount===0 "
                >
                  <h5>No data found</h5>
                </div>
                <div
                  class="tableData text-center page-title"
                  ng-show="totalCount===undefined "
                >
                  <h5>Loading ...</h5>
                </div> -->
                <!-- <ul
                  ng-if="totalCount"
                  ng-change="getAllBonusList(formData)"
                  uib-pagination
                  total-items="totalCount"
                  items-per-page="maxRow"
                  ng-model="formData.page"
                  max-size="template.pageMax"
                  class="pagination-sm"
                  boundary-links="true "
                  force-ellipses="true "
                ></ul> -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
